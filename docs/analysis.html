<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Survey Analysis | A Quick Start Guide to Survey Research</title>
  <meta name="description" content="A quick start guide to survey research" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Survey Analysis | A Quick Start Guide to Survey Research" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A quick start guide to survey research" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Survey Analysis | A Quick Start Guide to Survey Research" />
  
  <meta name="twitter:description" content="A quick start guide to survey research" />
  

<meta name="author" content="Liz Carey (and hopefully many others)" />


<meta name="date" content="2021-12-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="writing-effective-survey-questions.html"/>
<link rel="next" href="appendixA.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Survey Research Quick Start</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to survey research</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#outline"><i class="fa fa-check"></i>Outline</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="macro.html"><a href="macro.html"><i class="fa fa-check"></i><b>1</b> Designing a survey</a><ul>
<li class="chapter" data-level="1.1" data-path="macro.html"><a href="macro.html#choosing-a-research-method"><i class="fa fa-check"></i><b>1.1</b> Choosing a research method</a></li>
<li class="chapter" data-level="1.2" data-path="macro.html"><a href="macro.html#selecting-your-target-population"><i class="fa fa-check"></i><b>1.2</b> Selecting your target population</a></li>
<li class="chapter" data-level="1.3" data-path="macro.html"><a href="macro.html#total-survey-error-framework"><i class="fa fa-check"></i><b>1.3</b> Total survey error framework</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="writing-effective-survey-questions.html"><a href="writing-effective-survey-questions.html"><i class="fa fa-check"></i><b>2</b> Writing effective survey questions</a><ul>
<li class="chapter" data-level="2.1" data-path="writing-effective-survey-questions.html"><a href="writing-effective-survey-questions.html#cognitive-response-model"><i class="fa fa-check"></i><b>2.1</b> Cognitive Response Model</a><ul>
<li class="chapter" data-level="2.1.1" data-path="writing-effective-survey-questions.html"><a href="writing-effective-survey-questions.html#comprehension"><i class="fa fa-check"></i><b>2.1.1</b> Comprehension</a></li>
<li class="chapter" data-level="2.1.2" data-path="writing-effective-survey-questions.html"><a href="writing-effective-survey-questions.html#retrieval-of-information"><i class="fa fa-check"></i><b>2.1.2</b> Retrieval of information</a></li>
<li class="chapter" data-level="2.1.3" data-path="writing-effective-survey-questions.html"><a href="writing-effective-survey-questions.html#judgment-or-estimation"><i class="fa fa-check"></i><b>2.1.3</b> Judgment or estimation</a></li>
<li class="chapter" data-level="2.1.4" data-path="writing-effective-survey-questions.html"><a href="writing-effective-survey-questions.html#selection-of-a-response-to-the-question"><i class="fa fa-check"></i><b>2.1.4</b> Selection of a response to the question</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>3</b> Survey Analysis</a><ul>
<li class="chapter" data-level="3.1" data-path="analysis.html"><a href="analysis.html#organize-your-workspace"><i class="fa fa-check"></i><b>3.1</b> Organize your workspace</a></li>
<li class="chapter" data-level="3.2" data-path="analysis.html"><a href="analysis.html#data-cleaning"><i class="fa fa-check"></i><b>3.2</b> Data Cleaning</a><ul>
<li class="chapter" data-level="3.2.1" data-path="analysis.html"><a href="analysis.html#load-the-data"><i class="fa fa-check"></i><b>3.2.1</b> Load the data</a></li>
<li class="chapter" data-level="3.2.2" data-path="analysis.html"><a href="analysis.html#loading-qualtrics-data"><i class="fa fa-check"></i><b>3.2.2</b> Loading Qualtrics data</a></li>
<li class="chapter" data-level="3.2.3" data-path="analysis.html"><a href="analysis.html#preview-the-data"><i class="fa fa-check"></i><b>3.2.3</b> Preview the data</a></li>
<li class="chapter" data-level="3.2.4" data-path="analysis.html"><a href="analysis.html#joining-data-sets"><i class="fa fa-check"></i><b>3.2.4</b> Joining data sets</a></li>
<li class="chapter" data-level="3.2.5" data-path="analysis.html"><a href="analysis.html#removing-duplicate-values"><i class="fa fa-check"></i><b>3.2.5</b> Removing duplicate values</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendixA.html"><a href="appendixA.html"><i class="fa fa-check"></i><b>A</b> Setting up R</a><ul>
<li class="chapter" data-level="A.1" data-path="appendixA.html"><a href="appendixA.html#package-installation"><i class="fa fa-check"></i><b>A.1</b> Package installation</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="appendixB.html"><a href="appendixB.html"><i class="fa fa-check"></i><b>B</b> Setting up python</a></li>
<li class="chapter" data-level="C" data-path="appendixC.html"><a href="appendixC.html"><i class="fa fa-check"></i><b>C</b> Generating fake data</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Quick Start Guide to Survey Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="analysis" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Survey Analysis</h1>
<p>After you’ve fielded your survey, here are the steps to making sense of the data.</p>
<p>This section assumes you have a laptop set up to work with in either R or python. Head over to the Appendix page if you need help with set up.</p>
<div id="organize-your-workspace" class="section level2">
<h2><span class="header-section-number">3.1</span> Organize your workspace</h2>
<p>Before beginning any analysis, you’ll want to set up a reproducible workflow. Below is an adapted suggestion on how to organize your workspace from Ben Marwick, Carl Boettiger, and Lincoln Mullen <span class="citation">(Ben Marwick <a href="#ref-reproducible_workflow" role="doc-biblioref">2018</a>)</span>. Keeping your workspace organized is the best way for you and others to understand and reproduce your analysis.</p>
<pre><code>project
|- DESCRIPTION          # project metadata and dependencies 
|- README.md            # top-level description of content and guide to users
|
|- data/                # data files used 
|  +- raw_data.csv      # data files in open formats such as TXT, CSV, TSV, etc.
|  +- cleaned_data.csv  # data files that have been cleaned, merged, etc that you&#39;ll use for survey analysis
|
|- analysis/            # any programmatic code
|  +- my_report.Rmd     # R markdown file with narrative text interwoven with code chunks 
|  +- makefile          # builds a PDF/HTML/DOCX file from the Rmd, code, and data files
|  +- scripts/          # code files (R, shell, etc.) used for data cleaning, analysis and visualisation
|  +- figures/          # saved outputs of your figures
|
|- R/                     
|  +- my_functions.R    # custom R functions that are used more than once throughout the project
|
|- man/
|  +- my_functions.Rd   # documentation for the R functions (auto-generated when using devtools)
|
</code></pre>
<p><strong>R version</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="analysis.html#cb2-1"></a><span class="co">#List the directory names you want to create</span></span>
<span id="cb2-2"><a href="analysis.html#cb2-2"></a>folder_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;data&quot;</span>, </span>
<span id="cb2-3"><a href="analysis.html#cb2-3"></a>                    <span class="st">&quot;data/raw&quot;</span>, </span>
<span id="cb2-4"><a href="analysis.html#cb2-4"></a>                    <span class="st">&quot;data/clean&quot;</span>, </span>
<span id="cb2-5"><a href="analysis.html#cb2-5"></a>                  <span class="st">&quot;analysis&quot;</span>, </span>
<span id="cb2-6"><a href="analysis.html#cb2-6"></a>                    <span class="st">&quot;analysis/scripts&quot;</span>, </span>
<span id="cb2-7"><a href="analysis.html#cb2-7"></a>                     <span class="st">&quot;analysis/figures&quot;</span>, </span>
<span id="cb2-8"><a href="analysis.html#cb2-8"></a>                  <span class="st">&quot;R&quot;</span>)</span>
<span id="cb2-9"><a href="analysis.html#cb2-9"></a></span>
<span id="cb2-10"><a href="analysis.html#cb2-10"></a><span class="co">#Create the directories</span></span>
<span id="cb2-11"><a href="analysis.html#cb2-11"></a><span class="kw">sapply</span>(folder_names, dir.create)</span></code></pre></div>
</div>
<div id="data-cleaning" class="section level2">
<h2><span class="header-section-number">3.2</span> Data Cleaning</h2>
<p>Before you can begin looking at the results, you’ll need to clean the data. By “cleaning” the data, we mean edited the raw file into a format that will make the analysis valid and easier.</p>
<div id="load-the-data" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Load the data</h3>
<p>Download your raw survey data as a csv and load it into your your analysis tool of choice (e.g. Ipython notebook or Rstudio)</p>
<p><strong>R version</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="analysis.html#cb3-1"></a><span class="co"># load necessary packages for analysis</span></span>
<span id="cb3-2"><a href="analysis.html#cb3-2"></a><span class="kw">library</span>(tidyverse)        <span class="co">#contains all the library packages to manipulate and transform data</span></span>
<span id="cb3-3"><a href="analysis.html#cb3-3"></a><span class="kw">library</span>(summarytools)     <span class="co">#shortcut tools to visualize summaries of the data</span></span>
<span id="cb3-4"><a href="analysis.html#cb3-4"></a></span>
<span id="cb3-5"><a href="analysis.html#cb3-5"></a><span class="co"># read/store the data as the variable df (short for dataframe)</span></span>
<span id="cb3-6"><a href="analysis.html#cb3-6"></a><span class="co"># replace &quot;file&quot; with &quot;https://raw.githubusercontent.com/lizmcarey/survey-guide/master/sample_data/Survey_test_data.csv&quot; to download the survey data set</span></span>
<span id="cb3-7"><a href="analysis.html#cb3-7"></a>file &lt;-<span class="st"> &quot;./sample_data/Survey_test_data.csv&quot;</span> <span class="co">#load file from folder heirarchy </span></span>
<span id="cb3-8"><a href="analysis.html#cb3-8"></a>df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file)</span></code></pre></div>
<p><strong>python version</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="analysis.html#cb4-1"></a><span class="co">#load necessary modules for analysis</span></span>
<span id="cb4-2"><a href="analysis.html#cb4-2"></a>import pandas as pd</span>
<span id="cb4-3"><a href="analysis.html#cb4-3"></a></span>
<span id="cb4-4"><a href="analysis.html#cb4-4"></a><span class="co">#read/store the data as the variable df (short for dataframe)</span></span>
<span id="cb4-5"><a href="analysis.html#cb4-5"></a>df =<span class="st"> </span><span class="kw">pd.read_csv</span>(filename)</span></code></pre></div>
</div>
<div id="loading-qualtrics-data" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Loading Qualtrics data</h3>
<p>When you download a csv from Qualtrics, it will come with a few extra rows you don’t need. Here are some automated scripts you can add to your makefile to speed up your workflow</p>
<p><strong>R version manual</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="analysis.html#cb5-1"></a><span class="co"># Store the column names by reading in the column header</span></span>
<span id="cb5-2"><a href="analysis.html#cb5-2"></a>df_names &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file, <span class="dt">n_max=</span><span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">names</span>()</span>
<span id="cb5-3"><a href="analysis.html#cb5-3"></a></span>
<span id="cb5-4"><a href="analysis.html#cb5-4"></a><span class="co"># Read the entire file</span></span>
<span id="cb5-5"><a href="analysis.html#cb5-5"></a>df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file, </span>
<span id="cb5-6"><a href="analysis.html#cb5-6"></a>               <span class="dt">col_names =</span> df_names, <span class="co"># use df_names to title the columns</span></span>
<span id="cb5-7"><a href="analysis.html#cb5-7"></a>               <span class="dt">skip =</span> <span class="dv">3</span>)             <span class="co"># skip the first three lines</span></span>
<span id="cb5-8"><a href="analysis.html#cb5-8"></a></span>
<span id="cb5-9"><a href="analysis.html#cb5-9"></a><span class="co">#store the question names</span></span>
<span id="cb5-10"><a href="analysis.html#cb5-10"></a>question_bank &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file, <span class="dt">n_max=</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># read in the first row of the file</span></span>
<span id="cb5-11"><a href="analysis.html#cb5-11"></a><span class="st">                 </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;Q&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># select columns that start with Q</span></span>
<span id="cb5-12"><a href="analysis.html#cb5-12"></a><span class="st">                 </span><span class="kw">gather</span>(key, question_text)   <span class="co"># transform data from wide to long</span></span></code></pre></div>
<p><strong>R version programmatic</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="analysis.html#cb6-1"></a><span class="co">#function to load qualtrics csv and remove extra rows</span></span>
<span id="cb6-2"><a href="analysis.html#cb6-2"></a>load_qualtrics_csv &lt;-<span class="st"> </span><span class="cf">function</span>(file) {</span>
<span id="cb6-3"><a href="analysis.html#cb6-3"></a>  df_names &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file, <span class="dt">n_max =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">names</span>()</span>
<span id="cb6-4"><a href="analysis.html#cb6-4"></a>  </span>
<span id="cb6-5"><a href="analysis.html#cb6-5"></a>  df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file, <span class="dt">col_names =</span> df_names, <span class="dt">skip =</span> <span class="dv">3</span>)</span>
<span id="cb6-6"><a href="analysis.html#cb6-6"></a>}</span>
<span id="cb6-7"><a href="analysis.html#cb6-7"></a></span>
<span id="cb6-8"><a href="analysis.html#cb6-8"></a><span class="co">#function to store questions</span></span>
<span id="cb6-9"><a href="analysis.html#cb6-9"></a>get_questions &lt;-<span class="st"> </span><span class="cf">function</span>(file) {</span>
<span id="cb6-10"><a href="analysis.html#cb6-10"></a>  qb &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file, <span class="dt">n_max =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-11"><a href="analysis.html#cb6-11"></a><span class="st">        </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;Q&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-12"><a href="analysis.html#cb6-12"></a><span class="st">        </span><span class="kw">gather</span>(key, question_text)</span>
<span id="cb6-13"><a href="analysis.html#cb6-13"></a>}</span>
<span id="cb6-14"><a href="analysis.html#cb6-14"></a></span>
<span id="cb6-15"><a href="analysis.html#cb6-15"></a><span class="co">#Use function to read in survey file, and skip first 3 lines</span></span>
<span id="cb6-16"><a href="analysis.html#cb6-16"></a>df &lt;-<span class="st"> </span><span class="kw">load_qualtrics_csv</span>(file)</span>
<span id="cb6-17"><a href="analysis.html#cb6-17"></a></span>
<span id="cb6-18"><a href="analysis.html#cb6-18"></a><span class="co">#Use function to store question wording</span></span>
<span id="cb6-19"><a href="analysis.html#cb6-19"></a>question_bank &lt;-<span class="st"> </span><span class="kw">get_questions</span>(file)</span></code></pre></div>
</div>
<div id="preview-the-data" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Preview the data</h3>
<p>It’s important to get a look at the data to spot any errors in uploading the dataset and the validity of the responses.</p>
<p>You’ll want to check for:</p>
<ul>
<li>Total number of observations/rows</li>
<li>Duplicate responses</li>
<li>Drop off/Abandon rate of the survey</li>
<li>Average survey completion time</li>
<li>“Speeders:” those who couldn’t have completed the survey in a reasonable amount of time</li>
</ul>
<hr />
<p>There are multiple different ways to preview your dataset before analysis. One quick way is to check the first few rows of your data. You can do this with the function <code>head()</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="analysis.html#cb7-1"></a><span class="co">#Check the first 5 rows of data</span></span>
<span id="cb7-2"><a href="analysis.html#cb7-2"></a><span class="kw">head</span>(df)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 29
##   StartDate           EndDate             Status      IPAddress Progress
##   &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt;       &lt;lgl&gt;        &lt;dbl&gt;
## 1 2019-01-15 13:28:39 2019-01-15 13:28:39 Survey Test NA             100
## 2 2019-01-15 13:28:40 2019-01-15 13:28:40 Survey Test NA             100
## 3 2019-01-15 13:36:47 2019-01-15 13:36:47 Survey Test NA             100
## 4 2019-01-15 13:36:47 2019-01-15 13:36:47 Survey Test NA             100
## 5 2019-01-15 13:36:48 2019-01-15 13:36:48 Survey Test NA             100
## 6 2019-01-15 13:36:48 2019-01-15 13:36:48 Survey Test NA             100
## # … with 24 more variables: Duration (in seconds) &lt;dbl&gt;, Finished &lt;lgl&gt;,
## #   RecordedDate &lt;dttm&gt;, ResponseId &lt;chr&gt;, RecipientLastName &lt;lgl&gt;,
## #   RecipientFirstName &lt;lgl&gt;, RecipientEmail &lt;lgl&gt;, ExternalReference &lt;lgl&gt;,
## #   LocationLatitude &lt;dbl&gt;, LocationLongitude &lt;dbl&gt;, DistributionChannel &lt;chr&gt;,
## #   UserLanguage &lt;lgl&gt;, Q1 &lt;chr&gt;, Q2 &lt;chr&gt;, Q3_4 &lt;chr&gt;, Q3_5 &lt;chr&gt;, Q3_6 &lt;chr&gt;,
## #   Q3_7 &lt;chr&gt;, Q3_8 &lt;chr&gt;, Q3_9 &lt;chr&gt;, Q3_10 &lt;chr&gt;, Q3_10_TEXT &lt;chr&gt;, Q4 &lt;chr&gt;,
## #   Q5 &lt;chr&gt;</code></pre>
<hr />
<p>A more comprehensive way to view your dataset is with the <code>skimr</code> package. This package will give an overview of the number of observations and variables in your data.</p>
<p>The missing column should not be greater than 20% of your total number of observations (unless it’s a multiselect question).</p>
<p>Questions with dropoff greater than 20% can signal that the question was difficult for respondents to answer; you should be wary of response bias and consider removing the question from analysis and rewording the question for future survey sends.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="analysis.html#cb9-1"></a><span class="kw">library</span>(skimr)</span>
<span id="cb9-2"><a href="analysis.html#cb9-2"></a><span class="kw">skim</span>(df)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-8">Table 3.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">df</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">502</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">29</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">15</td>
</tr>
<tr class="odd">
<td align="left">logical</td>
<td align="left">7</td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">POSIXct</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Status</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">11</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">ResponseId</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">17</td>
<td align="right">17</td>
<td align="right">0</td>
<td align="right">502</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">DistributionChannel</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q1</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q2</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">18</td>
<td align="right">34</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_4</td>
<td align="right">201</td>
<td align="right">0.60</td>
<td align="right">26</td>
<td align="right">26</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_5</td>
<td align="right">165</td>
<td align="right">0.67</td>
<td align="right">22</td>
<td align="right">22</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_6</td>
<td align="right">174</td>
<td align="right">0.65</td>
<td align="right">21</td>
<td align="right">21</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_7</td>
<td align="right">172</td>
<td align="right">0.66</td>
<td align="right">19</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_8</td>
<td align="right">184</td>
<td align="right">0.63</td>
<td align="right">18</td>
<td align="right">18</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_9</td>
<td align="right">162</td>
<td align="right">0.68</td>
<td align="right">23</td>
<td align="right">23</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_10</td>
<td align="right">184</td>
<td align="right">0.63</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_10_TEXT</td>
<td align="right">184</td>
<td align="right">0.63</td>
<td align="right">51</td>
<td align="right">135</td>
<td align="right">0</td>
<td align="right">318</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q4</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">11</td>
<td align="right">22</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q5</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">53</td>
<td align="right">134</td>
<td align="right">0</td>
<td align="right">502</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: logical</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="left">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">IPAddress</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="even">
<td align="left">Finished</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">TRU: 502</td>
</tr>
<tr class="odd">
<td align="left">RecipientLastName</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="even">
<td align="left">RecipientFirstName</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="odd">
<td align="left">RecipientEmail</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="even">
<td align="left">ExternalReference</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="odd">
<td align="left">UserLanguage</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Progress</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">100.00</td>
<td align="right">0.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="left">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td align="left">Duration (in seconds)</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.15</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">LocationLatitude</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">37.77</td>
<td align="right">0.00</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="left">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td align="left">LocationLongitude</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">-122.41</td>
<td align="right">0.00</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="left">▁▁▇▁▁</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: POSIXct</strong></p>
<table>
<colgroup>
<col width="13%" />
<col width="9%" />
<col width="13%" />
<col width="18%" />
<col width="18%" />
<col width="18%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">min</th>
<th align="left">max</th>
<th align="left">median</th>
<th align="right">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">StartDate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2019-01-15 13:28:39</td>
<td align="left">2019-01-15 13:37:58</td>
<td align="left">2019-01-15 13:37:22</td>
<td align="right">74</td>
</tr>
<tr class="even">
<td align="left">EndDate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2019-01-15 13:28:39</td>
<td align="left">2019-01-15 13:37:58</td>
<td align="left">2019-01-15 13:37:22</td>
<td align="right">74</td>
</tr>
<tr class="odd">
<td align="left">RecordedDate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2019-01-15 13:28:39</td>
<td align="left">2019-01-15 13:37:58</td>
<td align="left">2019-01-15 13:37:22</td>
<td align="right">74</td>
</tr>
</tbody>
</table>
<p>Another package that can give a brief overview of your data is <code>summarytools</code></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="analysis.html#cb10-1"></a><span class="kw">library</span>(summarytools)</span>
<span id="cb10-2"><a href="analysis.html#cb10-2"></a><span class="kw">view</span>(<span class="kw">dfSummary</span>(df)) <span class="co"># use view lowercase to see html output in the Rstudio viewer pane</span></span></code></pre></div>
</div>
<div id="joining-data-sets" class="section level3">
<h3><span class="header-section-number">3.2.4</span> Joining data sets</h3>
<p>Sometimes the data you need lives in two tables. <code>dplyr</code> from the <code>tidyverse</code> package makes it easy to join your data sets together. In order to join two tables together, you’ll need a shared unique identifier across the two tables.</p>
<p>Below are all the ways you can join two data sets using R and the corresponding <code>dplyr</code> functions.</p>
<p><img src="figs/combine_datasets.png" /></p>
<p>You can view this image and additional ways to transform data sets on the <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">RStudio Data Wrangling Cheat Sheet</a>.</p>
<p>In <a href="appendixC.html#appendixC">Appendix C</a>, I’ve generated a fake dataset with corresponding ResponseId’s that match to the survey data set (df).</p>
<p>Below I use a left join to merge respondent data table with the survey data table.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="analysis.html#cb11-1"></a>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">left_join</span>(respondent_data, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;ResponseId&quot;</span> =<span class="st"> &quot;ResponseId&quot;</span>))</span>
<span id="cb11-2"><a href="analysis.html#cb11-2"></a></span>
<span id="cb11-3"><a href="analysis.html#cb11-3"></a><span class="co"># View merged data sets</span></span>
<span id="cb11-4"><a href="analysis.html#cb11-4"></a><span class="kw">skim</span>(df)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-11">Table 3.2: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">df</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">502</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">36</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">22</td>
</tr>
<tr class="odd">
<td align="left">logical</td>
<td align="left">7</td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">POSIXct</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Status</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">11</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">ResponseId</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">17</td>
<td align="right">17</td>
<td align="right">0</td>
<td align="right">502</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">DistributionChannel</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q1</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q2</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">18</td>
<td align="right">34</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_4</td>
<td align="right">201</td>
<td align="right">0.60</td>
<td align="right">26</td>
<td align="right">26</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_5</td>
<td align="right">165</td>
<td align="right">0.67</td>
<td align="right">22</td>
<td align="right">22</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_6</td>
<td align="right">174</td>
<td align="right">0.65</td>
<td align="right">21</td>
<td align="right">21</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_7</td>
<td align="right">172</td>
<td align="right">0.66</td>
<td align="right">19</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_8</td>
<td align="right">184</td>
<td align="right">0.63</td>
<td align="right">18</td>
<td align="right">18</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_9</td>
<td align="right">162</td>
<td align="right">0.68</td>
<td align="right">23</td>
<td align="right">23</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q3_10</td>
<td align="right">184</td>
<td align="right">0.63</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q3_10_TEXT</td>
<td align="right">184</td>
<td align="right">0.63</td>
<td align="right">51</td>
<td align="right">135</td>
<td align="right">0</td>
<td align="right">318</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Q4</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">11</td>
<td align="right">22</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Q5</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">53</td>
<td align="right">134</td>
<td align="right">0</td>
<td align="right">502</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">8</td>
<td align="right">30</td>
<td align="right">0</td>
<td align="right">502</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">first_name</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">388</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">job</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">59</td>
<td align="right">0</td>
<td align="right">346</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">phone_number</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">11</td>
<td align="right">20</td>
<td align="right">0</td>
<td align="right">502</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">email</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">9</td>
<td align="right">23</td>
<td align="right">0</td>
<td align="right">417</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">gender</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">17</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">age</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: logical</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="left">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">IPAddress</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="even">
<td align="left">Finished</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="left">TRU: 502</td>
</tr>
<tr class="odd">
<td align="left">RecipientLastName</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="even">
<td align="left">RecipientFirstName</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="odd">
<td align="left">RecipientEmail</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="even">
<td align="left">ExternalReference</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
<tr class="odd">
<td align="left">UserLanguage</td>
<td align="right">502</td>
<td align="right">0</td>
<td align="right">NaN</td>
<td align="left">:</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Progress</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">100.00</td>
<td align="right">0.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="left">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td align="left">Duration (in seconds)</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.02</td>
<td align="right">0.15</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">LocationLatitude</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">37.77</td>
<td align="right">0.00</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="right">37.77</td>
<td align="left">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td align="left">LocationLongitude</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">-122.41</td>
<td align="right">0.00</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="right">-122.41</td>
<td align="left">▁▁▇▁▁</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: POSIXct</strong></p>
<table>
<colgroup>
<col width="13%" />
<col width="9%" />
<col width="13%" />
<col width="18%" />
<col width="18%" />
<col width="18%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">min</th>
<th align="left">max</th>
<th align="left">median</th>
<th align="right">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">StartDate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2019-01-15 13:28:39</td>
<td align="left">2019-01-15 13:37:58</td>
<td align="left">2019-01-15 13:37:22</td>
<td align="right">74</td>
</tr>
<tr class="even">
<td align="left">EndDate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2019-01-15 13:28:39</td>
<td align="left">2019-01-15 13:37:58</td>
<td align="left">2019-01-15 13:37:22</td>
<td align="right">74</td>
</tr>
<tr class="odd">
<td align="left">RecordedDate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2019-01-15 13:28:39</td>
<td align="left">2019-01-15 13:37:58</td>
<td align="left">2019-01-15 13:37:22</td>
<td align="right">74</td>
</tr>
</tbody>
</table>
</div>
<div id="removing-duplicate-values" class="section level3">
<h3><span class="header-section-number">3.2.5</span> Removing duplicate values</h3>
<p>Respondents may come back to the survey, or try to take the survey a second time on a new device. To ensure a respondent isn’t counted more than once in a survey, be sure to check for duplicate values by using a unique identifier. Common unique indentifiers include: email, embedded user id, or IP address.</p>
<p><strong>View duplicates using janitor package</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="analysis.html#cb12-1"></a><span class="kw">library</span>(janitor)</span>
<span id="cb12-2"><a href="analysis.html#cb12-2"></a></span>
<span id="cb12-3"><a href="analysis.html#cb12-3"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">get_dupes</span>(email) <span class="co"># get_dupes is a function available through janitor, can use more than one column to view duplicates</span></span></code></pre></div>
<pre><code>## # A tibble: 108 × 37
##    email     dupe_count StartDate           EndDate             Status  IPAddress
##    &lt;glue&gt;         &lt;int&gt; &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt;   &lt;lgl&gt;    
##  1 dr@gmail…          7 2019-01-15 13:36:48 2019-01-15 13:36:48 Survey… NA       
##  2 dr@gmail…          7 2019-01-15 13:36:56 2019-01-15 13:36:56 Survey… NA       
##  3 dr@gmail…          7 2019-01-15 13:37:19 2019-01-15 13:37:19 Survey… NA       
##  4 dr@gmail…          7 2019-01-15 13:37:20 2019-01-15 13:37:20 Survey… NA       
##  5 dr@gmail…          7 2019-01-15 13:37:25 2019-01-15 13:37:25 Survey… NA       
##  6 dr@gmail…          7 2019-01-15 13:37:29 2019-01-15 13:37:29 Survey… NA       
##  7 dr@gmail…          7 2019-01-15 13:37:48 2019-01-15 13:37:48 Survey… NA       
##  8 dr@hotma…          4 2019-01-15 13:36:57 2019-01-15 13:36:57 Survey… NA       
##  9 dr@hotma…          4 2019-01-15 13:37:10 2019-01-15 13:37:10 Survey… NA       
## 10 dr@hotma…          4 2019-01-15 13:37:23 2019-01-15 13:37:23 Survey… NA       
## # … with 98 more rows, and 31 more variables: Progress &lt;dbl&gt;,
## #   Duration (in seconds) &lt;dbl&gt;, Finished &lt;lgl&gt;, RecordedDate &lt;dttm&gt;,
## #   ResponseId &lt;chr&gt;, RecipientLastName &lt;lgl&gt;, RecipientFirstName &lt;lgl&gt;,
## #   RecipientEmail &lt;lgl&gt;, ExternalReference &lt;lgl&gt;, LocationLatitude &lt;dbl&gt;,
## #   LocationLongitude &lt;dbl&gt;, DistributionChannel &lt;chr&gt;, UserLanguage &lt;lgl&gt;,
## #   Q1 &lt;chr&gt;, Q2 &lt;chr&gt;, Q3_4 &lt;chr&gt;, Q3_5 &lt;chr&gt;, Q3_6 &lt;chr&gt;, Q3_7 &lt;chr&gt;,
## #   Q3_8 &lt;chr&gt;, Q3_9 &lt;chr&gt;, Q3_10 &lt;chr&gt;, Q3_10_TEXT &lt;chr&gt;, Q4 &lt;chr&gt;, Q5 &lt;chr&gt;, …</code></pre>
<p><strong>Manual way to view duplicates</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="analysis.html#cb14-1"></a>u_id &lt;-<span class="st"> </span><span class="kw">quo</span>(email) <span class="co"># Store unique identifier column, can be IP address, email, etc. </span></span>
<span id="cb14-2"><a href="analysis.html#cb14-2"></a></span>
<span id="cb14-3"><a href="analysis.html#cb14-3"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(<span class="op">!!</span>u_id) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-4"><a href="analysis.html#cb14-4"></a><span class="st">       </span><span class="kw">tally</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-5"><a href="analysis.html#cb14-5"></a><span class="st">       </span><span class="kw">filter</span>(n <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 23 × 2
##    email                n
##    &lt;glue&gt;           &lt;int&gt;
##  1 dr@gmail.com         7
##  2 dr@hotmail.com       4
##  3 dr@me.com            7
##  4 dr@outlook.com       7
##  5 dr@yahoo.com         8
##  6 ken@hotmail.com      2
##  7 miss@gmail.com       3
##  8 miss@hotmail.com     2
##  9 miss@me.com          5
## 10 miss@outlook.com     4
## # … with 13 more rows</code></pre>
<p>You’ll want to remove duplicate responses, and keep the most recent response.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="analysis.html#cb16-1"></a><span class="kw">library</span>(lubridate) <span class="co"># load library for converting datetimes</span></span>
<span id="cb16-2"><a href="analysis.html#cb16-2"></a></span>
<span id="cb16-3"><a href="analysis.html#cb16-3"></a><span class="co">#Remove duplicate emails, keep most recent submission</span></span>
<span id="cb16-4"><a href="analysis.html#cb16-4"></a>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-5"><a href="analysis.html#cb16-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">EndDate =</span> <span class="kw">as_datetime</span>(EndDate, <span class="dt">tz =</span> <span class="st">&quot;America/Los_Angeles&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># converts column to a datetime format </span></span>
<span id="cb16-6"><a href="analysis.html#cb16-6"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(<span class="op">!!</span>u_id)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-7"><a href="analysis.html#cb16-7"></a><span class="st">  </span><span class="kw">group_by</span>(<span class="op">!!</span>u_id) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-8"><a href="analysis.html#cb16-8"></a><span class="st">  </span><span class="kw">slice</span>(<span class="kw">which.max</span>(EndDate)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-9"><a href="analysis.html#cb16-9"></a><span class="st">  </span><span class="kw">ungroup</span>() </span></code></pre></div>

</div>
</div>
</div>



<h3>References</h3>
<div id="refs" class="references">
<div id="ref-reproducible_workflow">
<p>Ben Marwick, Lincoln Mullen, Carl Boettiger. 2018. “Packaging Data Analytical Work Reproducibly Using R (and Friends).” <em>PeerJ</em>. <a href="https://peerj.com/preprints/3192/">https://peerj.com/preprints/3192/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="writing-effective-survey-questions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendixA.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Survey-quickstart.pdf", "Survey-quickstart.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
